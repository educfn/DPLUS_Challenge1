<?xml version="1.0" encoding="utf-8" ?>
<ContentPage
	x:Class="dplus1.Views.ClientsListView"
	xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
	xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
	xmlns:model="clr-namespace:dplus1.Model"
	xmlns:viewModels="clr-namespace:dplus1.ViewModels"
	x:DataType="viewModels:ClientsListViewModel">

	<ContentPage.Resources>
		<ResourceDictionary>
			<x:Array x:Key="FakeClients" Type="{x:Type model:Client}">
				<model:Client
					Name="João"
					Address="Rua das Flores, 123 - São Paulo/SP"
					Age="22"
					Lastname="Silva" />
				<model:Client
					Name="Maria"
					Address="Avenida Brasil, 456 - Rio de Janeiro/RJ"
					Age="35"
					Lastname="Oliveira" />
				<model:Client
					Name="Carlos"
					Address="Rua das Palmeiras, 789 - Belo Horizonte/MG"
					Age="41"
					Lastname="Santos" />
				<model:Client
					Name="Ana"
					Address="Travessa do Comércio, 55 - Salvador/BA"
					Age="28"
					Lastname="Souza" />
				<model:Client
					Name="Paulo"
					Address="Praça Sete de Setembro, 12 - Curitiba/PR"
					Age="19"
					Lastname="Lima" />
				<model:Client
					Name="Fernanda"
					Address="Rua XV de Novembro, 230 - Porto Alegre/RS"
					Age="47"
					Lastname="Pereira" />
				<model:Client
					Name="Rafael"
					Address="Avenida Beira-Mar, 88 - Fortaleza/CE"
					Age="33"
					Lastname="Costa" />
				<model:Client
					Name="Camila"
					Address="Rua do Sol, 14 - Recife/PE"
					Age="26"
					Lastname="Martins" />
				<model:Client
					Name="Bruno"
					Address="Avenida Goiás, 310 - Goiânia/GO"
					Age="52"
					Lastname="Almeida" />
				<model:Client
					Name="Juliana"
					Address="Rua Dom Pedro II, 77 - Manaus/AM"
					Age="38"
					Lastname="Ferreira" />

			</x:Array>
		</ResourceDictionary>
	</ContentPage.Resources>

	<ScrollView>
		<StackLayout>
			<Border
				BackgroundColor="Gray"
				HeightRequest="500"
				StrokeThickness="2">
				<Border.StrokeShape>
					<RoundRectangle CornerRadius="20" />
				</Border.StrokeShape>
				<CollectionView
					Margin="10"
					BackgroundColor="LightSalmon"
					ItemsSource="{Binding AllClients}"
					SelectionChangedCommand="{Binding CommandModifyClient}"
					SelectionChangedCommandParameter="{Binding Source={RelativeSource Self}, Path=SelectedItem}"
					SelectionMode="Single">
					<CollectionView.ItemsLayout>
						<LinearItemsLayout ItemSpacing="10" Orientation="Vertical" />
					</CollectionView.ItemsLayout>
					<CollectionView.ItemTemplate>
						<DataTemplate x:DataType="model:Client">
							<HorizontalStackLayout>
								<Label
									Margin="10,10"
									FontAttributes="Bold"
									FontSize="22">
									<Label.FormattedText>
										<FormattedString>
											<Span
												FontAttributes="Bold"
												Text="Client - "
												TextColor="Black" />
											<Span
												FontAttributes="Bold"
												Text="{Binding Name, FallbackValue=Name}"
												TextColor="Gray" />
											<Span FontAttributes="Bold" Text=" " />
											<Span
												FontAttributes="Bold"
												Text="{Binding Lastname, FallbackValue=LastName}"
												TextColor="DarkGoldenrod" />
											<Span
												FontAttributes="Bold"
												Text=" - Age: "
												TextColor="Black" />
											<Span
												FontAttributes="Bold"
												Text="{Binding Age, FallbackValue=Age}"
												TextColor="DarkCyan" />
											<Span
												FontAttributes="Bold"
												Text=" - Address: "
												TextColor="Black" />
											<Span
												FontAttributes="Bold"
												Text="{Binding Address, FallbackValue=Address}"
												TextColor="DarkBlue" />
										</FormattedString>
									</Label.FormattedText>
								</Label>
							</HorizontalStackLayout>
						</DataTemplate>
					</CollectionView.ItemTemplate>
				</CollectionView>
			</Border>
			<HorizontalStackLayout
				Padding="30"
				HorizontalOptions="Center"
				Spacing="25">
				<Button
					Command="{Binding CommandAddClient}"
					FontAttributes="Bold"
					Text="Add" />
				<Button FontAttributes="Bold" Text="Delete" />
			</HorizontalStackLayout>
		</StackLayout>
	</ScrollView>
</ContentPage>
